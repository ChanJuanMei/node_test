(function(b,k,l){var h={init:function(d,c){this.el=c;this.$el=b(c);this.$elC=this.$el.attr("class");this.url="string"===typeof d?d:d.url;this.options=b.extend({},b.fn.breakingNews.options,d);this.$el.addClass("breaking-news").css({height:this.options.feedSize.height,width:this.options.feedSize.width});this.$el.append('<div class="'+this.$elC+'-entries"/>');this.cycle()},cycle:function(){var b=this;b.fetch().done(function(c){var a=c.responseData.feed;b.buildStructure(a,a.entries);b.display();"function"===
typeof b.options.onComplete&&b.options.onComplete.apply(b.el,arguments)})},fetch:function(){return b.ajax({type:"GET",url:document.location.protocol+"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+this.options.numberToShow+"&q="+encodeURIComponent(this.url),dataType:"jsonp"})},buildStructure:function(d,c){var a=this,e=0;a.dataObj={itemsTransition:function(){switch(a.options.effect){case "tricker":b("."+a.$elC+"-entries").html('<a href="'+c[e].link+'">'+c[e].title+"</a>");a.effect().tricker("."+
a.$elC+"-entries a",c[e].title,a.options.effectDuration);break;case "fadeToggle":a.effect().FadeToggle("."+a.$elC+"-entries",a.options.effectDuration,c[e].link,c[e].title);break;case "slideToggle":a.effect().SlideToggle("."+a.$elC+"-entries",a.options.effectDuration,c[e].link,c[e].title);break;case "scroll":b.each(c,function(d,e){b("."+a.$elC+"-entries").parent().addClass("scroll-effect").css({height:a.options.scrollInit.height,border:a.options.scrollInit.border});b("."+a.$elC+"-entries").append('<a href="'+
c[d].link+'">'+c[d].title+"</a>")});var d=0,g=b("."+a.$elC+"-entries");setInterval(function(){d<g.prop("scrollHeight")?b("."+a.$elC+"-entries").css({position:"absolute",overflow:"hidden"}).animate({top:-d},10):d=-b("."+a.$elC+"-entries").parent().outerHeight();d++},a.options.effectDuration);break;default:a.effect().FadeToggle("."+a.$elC+"-entries",a.options.effectDuration,c[e].link,c[e].title)}e=e>=c.length-1?0:e+1}}},display:function(){this.dataObj.itemsTransition()},effect:function(){var d=this;
return{tricker:function(c,a,e){var f=a.length;b(c).html("");b(c).parent().append('<span class="uscore">  _</span>');b.each(a.split(""),function(d,f){setTimeout(function(){b(c).html(b(c).html()+f);d>=a.length-2&&b(c).parent().find("span.uscore").fadeOut(500)},e*d)});setTimeout(function(){d.dataObj.itemsTransition()},d.options.refresh+f*e)},SlideToggle:function(c,a,e,f,g){b(c).slideUp(a,function(){b(this).html('<a href="'+e+'">'+f+"</a>").slideDown(a,function(){setTimeout(function(){d.dataObj.itemsTransition()},
d.options.refresh+a)})})},FadeToggle:function(c,a,e,f,g){b(c).fadeOut(a,function(){b(this).html('<a href="'+e+'">'+f+"</a>").fadeIn(a,function(){setTimeout(function(){d.dataObj.itemsTransition()},d.options.refresh+a)})})}}}};b.fn.breakingNews=function(b){return this.each(function(){Object.create(h).init(b,this)})};b.fn.breakingNews.options={url:"",feedSize:{height:"20px",width:"600px"},numberToShow:5,refresh:1E3,effect:"tricker",effectDuration:60,scrollInit:{height:"30px",border:"10px solid transparent"},
onComplete:null}})(jQuery,window);